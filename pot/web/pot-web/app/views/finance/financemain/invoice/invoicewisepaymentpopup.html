<div id="tab-pannel" class="panel-group">
  <form name="invoiceWiseForm" validate>
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title" ng-show="action=='Add'">Add Invoice Wise Details</h4>
        <h4 class="panel-title" ng-show="action=='Edit'">Edit Invoice Wise Details</h4>
      </div>
      <div class="panel-body21">
        <table class="table table-striped table-hover table-bordered" style="height:365px !important;" >
          <thead>
            <tr>
              <th colspan="9" style="text-align: center">Invoice Details</th>
              <th colspan="6" style="text-align: center">Invoice Wise-Payment Status</th>
            </tr>
            <tr>
              <th ng-show="action=='Add'">Select</th>
              <th>Invoice Date</th>
              <th>Invoice Number</th>
              <th>Net Invoice Amount</th>
              <th>Goods or Services Tax Amount</th>
              <th>Total Invoice Amount Incl Tax</th>
              <th>Upload/View Invoice Copy</th>
              <!-- <th>Procurement Category</th> 
              <th>Procurement Sub-Category</th>-->
              <th>Payment Due Date</th>
              <th>Payment Status</th>
              <th>Actual Payment Date</th>
              <th>Payment Release Ref Number</th>
              <th>Invoice Wise-Cost Accruals(Excl.Tax)</th>
              <th>Invoice Wise-Amount Paid(Excl.Tax)</th>
              <th>Invoice Wise-Amount Paid(Incl.Tax)</th>
            </tr>
          </thead>
          <tbody id="vert-align">
            <tr fixed-header="" ng-repeat ="invoice in purchaseOrderInvoiceDetails">

              <td ng-show="action ==='Add'"><input type="checkbox" value="account.id" ng-model="invoice.selected" ng-change="InvoiceWisePopUpRowSelect(invoice)"></td>

              <td class="input-width2"><pot-Futuredate-Picker ng-model="invoice.invoicedate" dir-index="$index" date-name="invoicedate" placeholder="dd-mm-yyyy" readonly="readonly"/></td>

              <td class="input-width1"><input type="text" class="form-control" name="invoiceNo" ng-model="invoice.invoiceNo" placeholder="Invoice Number" ng-required="true"></td>


              <td class="input-width1"><input type="text" class="form-control" name="invoiceAmount" ng-model="invoice.invoiceAmount" placeholder="Invoice Amount" ng-required="true"></td>

              <td><input type="text" class="form-control" name="taxAmout" ng-model="invoice.taxAmout" placeholder="Tax Amout" ng-required></td>

              <td class="input-width">{{invoice.invoiceAmount--invoice.taxAmout}}</td>
              <td class="input-width3"><input type="file" name="doc" ng-model="invoice.doc" tabindex="-1" ng-click="fileUpload(reference.uploadViewFile)" placeholder="Doc"
              style="display: inline !important;"></td>

              <!-- <td><select ng-model="invoice.catg" placeholder="Category" ng-required="true" ng-options = "serviceType.name for serviceType in serviceType"></select></td> 
              
              <td class="input-width1"><input type="text" class="form-control" name="subCatg" ng-model="invoice.subCatg" placeholder="Sub Category" ng-required="true"></td>-->

              <td class="input-width2"><pot-Futuredate-Picker class="form-control" ng-model="invoice.invoicedate--paymentInDays" dir-index="$index" date-name="payDueDate" placeholder="dd-mm-yyyy" readonly="readonly" /></td>

              <td><select ng-model="invoice.payStatus" class="form-control" ><option>Paid</option>
              <option>UnPaid</option>
              </select></td>

              <td class="input-width2"><pot-Futuredate-Picker ng-model="invoice.actualPaymentDate" dir-index="$index" date-name="actualPaymentDate" placeholder="dd-mm-yyyy" readonly="readonly" /></td>

              <td class="input-width1"><input type="text" class="form-control" name="payReleaseRefNo" ng-model="invoice.payReleaseRefNo" placeholder="Pay Release RefNo" ng-required="true"></td>

              <td class="input-width1"><input type="text" class="form-control" name="accruedCostAmount" ng-model="invoice.accruedCostAmount" placeholder="Accrued Cost Amount" ng-required="true"></td>

              <td class="input-width1" ng-if="invoice.payStatus=='Paid'"><input type="text" class="form-control" name="paidAmountWithTax" ng-model="invoice.invoiceAmount" placeholder="Paid Amount With Tax" ng-disabled="true"></td>

              <td class="input-width1" ng-if="invoice.payStatus=='Paid'"><input type="text" class="form-control" name="paidAmountWithoutTax" ng-model="invoice.invoiceAmount" placeholder="Paid Amount Without Tax" ng-disabled="true"></td>
              
              <td class="input-width1" ng-if="invoice.payStatus=='UnPaid'"><input type="text" class="form-control" name="paidAmountWithTax"  placeholder="Paid Amount With Tax" ng-disabled="true"></td>

              <td class="input-width1" ng-if="invoice.payStatus=='UnPaid'"><input type="text" class="form-control" name="paidAmountWithoutTax" placeholder="Paid Amount Without Tax" ng-disabled="true"></td>

            </tr>
          </tbody>
        </table>
      </div>
      <div class="panel-footer">
        <div class="pull-right">
          <input type="submit" class="btn btn-brown btn-sm" ng-click="invoiceWiseForm.$valid && saveInvoiceWiseDetails()" value="Save">
        </div>
        <div class="pull-left">
          <input type="submit" class="btn btn-brown btn-sm" ng-click="invoiceWiseForm.$valid && addRows()" value="Add" ng-show="action =='Add'"> <input type="button"
            class="btn btn-brown btn-sm" ng-click="deleteRows()" value="Delete" ng-show="action =='Add'">
        </div>
      </div>
    </div>
  </form>
</div>