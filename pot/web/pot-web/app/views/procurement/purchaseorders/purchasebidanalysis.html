<div id="tab-pannel" class="panel-group">
  <div class="panel panel-default" modal-movable>
    <div class="panel-heading">
      <h4 class="panel-title">Bid Analysis</h4>
    </div>
    <div class="overflow-auto">
				<table class="table table-striped table-hover table-bordered" >
        <thead>
          <tr>
            <th rowspan="2">Type</th>
            <th rowspan="2">Item ID</th>
            <th rowspan="2">Item Description</th>
            <th rowspan="2">Classification</th>
            <th rowspan="2">Procurement <br> Sub Category
            </th>
            <th rowspan="2">Cost Code</th>
            <th rowspan="2">Delivery Place</th>
            <th rowspan="2">Start Date</th>
            <th rowspan="2">Finish Date</th>
            <th rowspan="2">Quantity</th>
            <th rowspan="2">Estimate({{preContractData.currencyTO.code}})</th>

            <th ng-repeat ="cmp in companyList"><span style="padding-left: 50px; !important">{{companyMap[cmp.companyId].code}}</span></th>

          </tr>
          <tr>
            <th ng-repeat ="cmp in companyList" rowspan="1" colspan="1"><span style="padding-right: 30px; width: 50px; !important"> Rate</span><span
              style="padding-right: 15px; width: 50px; !important"> Qty</span><span> Bid</span></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="30"><span class="fa fa-plus" ng-show="!manpowerFlag" ng-click="expandCollapseManpower(manpowerFlag)" title="Expand Manpower Items"></span> <span class="fa fa-minus" ng-show="manpowerFlag" title="Collapse Manpower Items"
                ng-click="expandCollapseManpower(manpowerFlag)"></span><span style="position: relative; left: 10px;">Man Power</span></td>
          </tr>
          <tr ng-repeat ="manpowerObj in externalData.preContractEmpDtlTOs">
            <td></td>
            <td><span>{{manpowerObj.itemCode}}</span></td>
            <td><span>{{manpowerObj.itemDesc}}</span></td>
            <td><span><span>{{projEmpClassmap[manpowerObj.projEmpLabelKey.id].code}}</span></td>
            <td><span>{{procureCategoryMap[manpowerObj.procureSubCatgId].name}}</span></td>
            <td><span><span>{{manpowerObj.costCode}}</td>
            <td><span>{{manpowerObj.deliveryPlace}}</span></td>
            <td><span>{{manpowerObj.startDate | date}}</span></td>
            <td><span>{{manpowerObj.finishDate | date}}</span></td>
            <td><span>{{manpowerObj.quantity}}</span></td>
            <td><span><input class="form-control" type="text" disabled="disabled" ng-model="manpowerObj.estimateCost" /></span></td>

            <td ng-repeat ="cmp in companyList" ng-form="rateForm"><span fixed-header="" ng-repeat ="itemCompany in manpowerObj.preContractsEmpCmpTOs"> <span ng-show="cmp.id==itemCompany.preContractCmpId"><input
                  ng-show="cmp.id==itemCompany.preContractCmpId" class="form-control" style="padding: 2px;min-width: 50px !important;width: 50px !important;text-align: center;" type="text" ng-model="itemCompany.rate" placeholder="Rate" pattern="^[\d]+$" name="rate" ng-required="true"
                  ng-disabled="true"> <input ng-show="cmp.id==itemCompany.preContractCmpId" class="form-control" style="padding: 2px;min-width: 50px !important;width: 50px !important;text-align: center;" type="text" ng-model="itemCompany.quantity" placeholder="Qty" pattern="^[\d]+$"
                  name="Quantity" ng-disabled="true"> <input ng-click="itemapproveFlag(itemCompany)" type="checkbox" ng-model="itemCompany.approveFlag" ng-disabled="true"> </span>
            </span></td>
          </tr>
          <tr>
            <td colspan="30"><span class="fa fa-plus" ng-click="expandCollapsePlant(plantFlag)" ng-show="!plantFlag" title="Expand Plant Items"></span> <span class="fa fa-minus" ng-click="expandCollapsePlant(plantFlag)" title="Collapse Plant Items"
                ng-show="plantFlag"></span> <span style="position: relative; left: 10px;">Plants</span></td>
          </tr>
          <tr ng-repeat ="plantObj in externalData.preContractPlantDtlTOs">
            <td></td>
            <td><span>{{plantObj.itemCode}}</span></span></td>
            <td><span>{{plantObj.itemDesc}}</span></td>
            <td><span><span>{{projPlantClassmap[plantObj.projPlantLabelKey.id].code}}</span></span></td>
            <td><span>{{procureCategoryMap[plantObj.procureSubCatgId].code}}</span></td>
            <td><span><span> {{plantObj.costCode}}</td>
            <td><span> {{plantObj.deliveryPlace}}</span></td>
            <td><span>{{plantObj.startDate | date}}</span></td>
            <td><span>{{plantObj.finishDate | date}}</span></td>
            <td><span>{{plantObj.quantity}}</span></td>
            <td><span><input class="form-control" type="text" disabled="disabled" ng-model="plantObj.estimateCost" /></span></td>
            <td ng-repeat ="cmp in companyList" ng-form="rateForm"><span fixed-header="" ng-repeat ="itemCompany in plantObj.preContractPlantCmpTOs"> <span ng-show="cmp.id==itemCompany.preContractCmpId"><input
                  ng-show="cmp.id==itemCompany.preContractCmpId" class="form-control" style="padding: 2px;min-width: 50px !important;width: 50px !important;text-align: center;"type="text" ng-model="itemCompany.rate" placeholder="Rate" pattern="^[\d]+$" name="rate" ng-required="true"
                  ng-disabled="true"> <input ng-show="cmp.id==itemCompany.preContractCmpId" class="form-control" style="padding: 2px;min-width: 50px !important;width: 50px !important;text-align: center;" type="text" ng-model="itemCompany.quantity" placeholder="Qty" pattern="^[\d]+$"
                  name="Quantity" ng-disabled="true"> <input ng-click="itemapproveFlag(itemCompany)" type="checkbox" ng-model="itemCompany.approveFlag" ng-disabled="true"> </span>
            </span></td>
          </tr>
          <tr>
            <td colspan="30"><span class="fa fa-plus" ng-click="expandCollapseMaterial(materialFlag)" ng-show="!materialFlag" title="Expand Material Items"></span> <span class="fa fa-minus" title="Collapse Material Items"
                ng-click="expandCollapseMaterial(materialFlag)" ng-show="materialFlag"></span><span style="position: relative; left: 10px;">Materials</span></td>
          </tr>

          <tr ng-repeat ="materialObj in externalData.preContractMaterialDtlTOs">
            <td></td>
            <td><span>{{materialObj.itemCode}}</span></td>
            <td><span>{{materialObj.itemDesc}}</span></td>
            <td><span><span>{{projMaterialClassmap[materialObj.projMaterialLabelKey.id].code}}</span></span></td>
            <td><span>{{procureCategoryMap[materialObj.procureSubCatgId].code}}</span></td>
            <td><span>{{materialObj.costCode}}</span></td>
            <td><span><span ng-show="materialObj.storeLabelKey.id > 0">{{ storeClassmap[materialObj.storeLabelKey.id].code}}<span
                  ng-show="materialObj.storeLabelKey.id <= 0 || materialObj.projStoreLabelKey.id > 0">{{projStoreClassmap[materialObj.projStoreLabelKey.id].code}}</span>
              </span></td>
            <td><span>{{materialObj.startDate | date}}</span></td>
            <td><span>{{materialObj.finishDate | date}}</span></td>
            <td><span>{{materialObj.quantity}}</span></td>
            <td><span><input class="form-control" type="text" disabled="disabled" ng-model="materialObj.estimateCost" /></span></td>
            <td ng-repeat ="cmp in companyList" ng-form="rateForm"><span fixed-header="" ng-repeat ="itemCompany in materialObj.preContractMaterialCmpTOs"> <span
                ng-show="cmp.id==itemCompany.preContractCmpId"><input ng-show="cmp.id==itemCompany.preContractCmpId" class="form-control" style="padding: 2px;min-width: 50px !important;width: 50px !important;text-align: center;" type="text" ng-model="itemCompany.rate"
                  placeholder="Rate" pattern="^[\d]+$" name="rate" ng-required="true" ng-disabled="true"> <input ng-show="cmp.id==itemCompany.preContractCmpId" class="form-control" style="padding: 2px;min-width: 50px !important;width: 50px !important;text-align: center;" type="text"
                  ng-model="itemCompany.quantity" placeholder="Qty" pattern="^[\d]+$" name="Quantity" ng-disabled="true"> <input ng-click="itemapproveFlag(itemCompany)" type="checkbox"
                  ng-model="itemCompany.approveFlag" ng-disabled="true"> </span>
            </span></td>
          </tr>
          <tr>
            <td colspan="30"><span class="fa fa-plus" ng-click="expandCollapseService(serviceFlag)" ng-show="!serviceFlag" title="Expand Service Items"> </span> <span class="fa fa-minus" title="Collapse Service Items"
                ng-click="expandCollapseService(serviceFlag)" ng-show="serviceFlag"></span> <span style="position: relative; left: 10px;">Services</span></td>
          </tr>
          <tr ng-repeat ="servciesObj in externalData.preContractServiceDtlTOs">
            <td></td>
            <td><span>{{servciesObj.itemCode}}</span></span></td>
            <td><span>{{servciesObj.itemDesc}}</span></span></td>
            <td><span><span>{{projServiceClassmap[servciesObj.projServiceLabelKey.id].code}}</span></span></td>
            <td><span>{{procureCategoryMap[servciesObj.procureSubCatgId].code}}</span></td>
            <td><span><span ng-show="servciesObj.projCostLabelKey.id > 0">{{ servciesObj.costCode}}</td>
            <td><span> {{servciesObj.deliveryPlace}}</span></td>
            <td><span>{{servciesObj.startDate | date}}</span></td>
            <td><span>{{servciesObj.finishDate | date}}</span></td>
            <td><span>{{servciesObj.quantity}}</span></td>
            <td><span><input class="form-control" type="text" disabled="disabled" ng-model="servciesObj.estimateCost" /></span></td>
            <td ng-repeat ="cmp in companyList" ng-form="rateForm"><span fixed-header="" ng-repeat ="itemCompany in servciesObj.preContractServiceCmpTOs"> <span
                ng-show="cmp.id==itemCompany.preContractCmpId"><input ng-show="cmp.id==itemCompany.preContractCmpId" class="form-control" style="padding: 2px;min-width: 50px !important;width: 50px !important;text-align: center;" type="text" ng-model="itemCompany.rate"
                  placeholder="Rate" pattern="^[\d]+$" name="rate" ng-required="true" ng-disabled="true"> <input ng-show="cmp.id==itemCompany.preContractCmpId" class="form-control" style="padding: 2px;min-width: 50px !important;width: 50px !important;text-align: center;" type="text"
                  ng-model="itemCompany.quantity" placeholder="Qty" pattern="^[\d]+$" name="Quantity" ng-disabled="true"> <input ng-click="itemapproveFlag(itemCompany)" type="checkbox"
                  ng-model="itemCompany.approveFlag" ng-disabled="true"> </span>
            </span></td>
          </tr>

          <tr>
            <td colspan="30"><span class="fa fa-plus" ng-click="expandCollapseSow(sowFlag)" ng-show="!sowFlag" title="Expand SOW Items"> </span> <span class="fa fa-minus" ng-click="expandCollapseSow(sowFlag)" ng-show="sowFlag" title="Collapse SOW Items"></span>
              <span style="position: relative; left: 10px;">Sub Contract</span></td>
          </tr>
          <tr ng-repeat ="sowObj in externalData.precontractSowDtlTOs">
            <td></td>
            <td><span>{{projSOWMap[sowObj.sowId].code}}</span></span></td>
            <td><span>{{projSOWMap[sowObj.sowId].name}}</span></span></td>
            <td><span>{{projSOWMap[sowObj.sowId].displayNamesMap.soeCode}}</span></span></td>
            <td><span>{{projSOWMap[sowObj.sowId].displayNamesMap.sorCode}}</span></span></td>
            <td><span> {{projSOWMap[sowObj.sowId].displayNamesMap.costCode}}</span></td>
            <td><span>{{sowObj.deliveryPlace}}</span></td>
            <td><span>{{sowObj.startDate}}</span></td>
            <td><span>{{sowObj.finishDate}}</span></td>
            <td><span>{{sowObj.quantity}}</span></td>
            <td><span><input type="text" class="form-control" ng-disabled="true" ng-model="sowObj.estimateCost" /></span></td>
            <td ng-repeat ="cmp in companyList" ng-form="rateForm"><span fixed-header="" ng-repeat ="itemCompany in sowObj.precontractSowCmpTOs"> <span ng-show="cmp.id==itemCompany.preContractCmpId"><input
                  ng-show="cmp.id==itemCompany.preContractCmpId" class="form-control" style="padding: 2px;min-width: 50px !important;width: 50px !important;text-align: center;" type="text" ng-model="itemCompany.rate" placeholder="Rate" pattern="^[\d]+$" name="rate" ng-required="true"
                  ng-disabled="true"> <input ng-show="cmp.id==itemCompany.preContractCmpId" class="form-control" style="padding: 2px;min-width: 50px !important;width: 50px !important;text-align: center;" type="text" ng-model="itemCompany.quantity" placeholder="Qty" pattern="^[\d]+$"
                  name="Quantity" ng-disabled="true"> <input ng-click="itemapproveFlag(itemCompany)" type="checkbox" ng-model="itemCompany.approveFlag" ng-disabled="true"> </span>
            </span></td>
          </tr>

        </tbody>

      </table>
    </div>
    <div class="panel-footer"></div>

  </div>
  <div class="ngdialog-close"></div>
</div>