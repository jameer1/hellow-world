<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>User List</h1>
    <!-- <input type="submit" value ="Help !"
		ng-click="helpPage();" class="pull-right btn  btn-primary btn-sm help-each-page"> -->
		<button class="pull-right btn btn-primary btn-sm help-each-page" 
	onclick="window.open('views/helptutorials/UserList.html', '_blank', 
		'toolbar=yes,scrollbars=yes,resizable=no,top=50,left=100,width=1400,height=700')">
		Help
	</button>
</section>
<!-- Main content -->
<section class="content" id="tab-pannel" ng-init="searchUsers(false)">
    <!-- Default box -->
    <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <div class="panel panel-default twinBlock footer-parent">
        <div class="panel-body">
           <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 no-padding">
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 padL-0">
                    <md-input-container>
                        <label>User Name</label>
                        <input data-test='Admin_ClientUser_UserList_UserNameSearch' type="text" ng-model="userReq.userName" autocomplete="off"/>
                    </md-input-container>
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <md-input-container>
                            <label>Employee Code</label>
                            <input data-test='Admin_ClientUser_UserList_EmployeeCodeSearch' type="text" class="regfrm" ng-model="userReq.empCode" autocomplete="off"/>
                        </md-input-container>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                            <md-input-container>
                                <label>Status</label>
                                <md-select data-test='Admin_ClientUser_UserList_Status' ng-model="userReq.status">
                                        <md-option value="1" label="Active" selected="selected">
                                            Active
                                        </md-option>
                                        <md-option value="2" label="Inactive">Inactive</md-option>
                                    </md-select>
                            </md-input-container>
                        </div>
                        <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 padR-0">
                                <div class="pull-right marT15">
                                    <input data-test='Admin_ClientUser_UserList_Search' type="button" ng-click="searchUsers1(true)" class="btn btn-primary btn-sm" value="Search">
                                    <input data-test='Admin_ClientUser_UserList_Reset' type="reset" class="btn btn-default btn-sm" ng-click="resetUser()" value="Reset">
                                </div>
                            </div>
             </div>
             <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 no-padding">
            <div class="firstTableResHeight">
            <div id="grid" ui-grid="gridOptions1" class="singleTableResHeight_3" style="height:200px"ng-if="stylesSvc.finishedStyling" 
             ui-grid-exporter ui-grid-move-columns ui-grid-auto-resize ui-grid-resize-columns class="grid" ></div>
                <!-- <table id="example" class="table table-striped table-hover table-bordered firstTableHeight" >
                    <thead>
                        <tr>
                            <th>Select</th>
                            <th>
                                <span ng-click="sortType = 'userName'; sortReverse = !sortReverse">
                                    User
                                    Name<span ng-if="sortType == 'userName'" ng-class="(sortReverse ? 'fa fa-caret-up' :'fa fa-caret-down')"></span>
                                    <span ng-if="sortType != 'userName'" class="fa fa-sort"></span>
                                </span>
                            </th>
                            <th>
                                <span ng-click="sortType = 'empCode'; sortReverse = !sortReverse">
                                    Employee
                                    Code<span ng-if="sortType == 'empCode'" ng-class="(sortReverse ? 'fa fa-caret-up' :'fa fa-caret-down')"></span>
                                    <span ng-if="sortType != 'empCode'" class="fa fa-sort"></span>
                                </span>
                            </th>
                            <th>
                                <span ng-click="sortType = 'empDesg'; sortReverse = !sortReverse">
                                    Employee
                                    Designation<span ng-if="sortType == 'empDesg'" ng-class="(sortReverse ? 'fa fa-caret-up' :'fa fa-caret-down')"></span>
                                    <span ng-if="sortType != 'empDesg'" class="fa fa-sort"></span>
                                </span>
                            </th>
                            <th>
                                <span ng-click="sortType = 'dispName'; sortReverse = !sortReverse">
                                    Display
                                    Name<span ng-if="sortType == 'dispName'" ng-class="(sortReverse ? 'fa fa-caret-up' :'fa fa-caret-down')"></span>
                                    <span ng-if="sortType != 'dispName'" class="fa fa-sort"></span>
                                </span>
                            </th>
                            <th>
                                <span ng-click="sortType = 'firstName'; sortReverse = !sortReverse">
                                    First
                                    Name<span ng-if="sortType == 'firstName'" ng-class="(sortReverse ? 'fa fa-caret-up' :'fa fa-caret-down')"></span>
                                    <span ng-if="sortType != 'firstName'" class="fa fa-sort"></span>
                                </span>
                            </th>
                            <th>
                                <span ng-click="sortType = 'lastName'; sortReverse = !sortReverse">
                                    Last
                                    Name<span ng-if="sortType == 'lastName'" ng-class="(sortReverse ? 'fa fa-caret-up' :'fa fa-caret-down')"></span>
                                    <span ng-if="sortType != 'lastName'" class="fa fa-sort"></span>
                                </span>
                            </th>
                            <th>
                                <span ng-click="sortType = 'email'; sortReverse = !sortReverse">
                                    Email<span ng-if="sortType == 'email'" ng-class="(sortReverse ? 'fa fa-caret-up' :'fa fa-caret-down')"></span>
                                    <span ng-if="sortType != 'email'" class="fa fa-sort"></span>
                                </span>
                            </th>
                            <th>
                                <span ng-click="sortType = 'phone'; sortReverse = !sortReverse">
                                    Phone<span ng-if="sortType == 'phone'" ng-class="(sortReverse ? 'fa fa-caret-up' :'fa fa-caret-down')"></span>
                                    <span ng-if="sortType != 'phone'" class="fa fa-sort"></span>
                                </span>
                            </th>
                            <th>
                                <span ng-click="sortType = 'mobile'; sortReverse = !sortReverse">
                                    Mobile<span ng-if="sortType == 'mobile'" ng-class="(sortReverse ? 'fa fa-caret-up' :'fa fa-caret-down')"></span>
                                    <span ng-if="sortType != 'mobile'" class="fa fa-sort"></span>
                                </span>
                            </th>
                            <th>
                                <span ng-click="sortType = 'userRole.roleName'; sortReverse = !sortReverse">
                                    Profile
                                    Name<span ng-if="sortType == 'userRole.roleName'" ng-class="(sortReverse ? 'fa fa-caret-up' :'fa fa-caret-down')"></span>
                                    <span ng-if="sortType != 'userRole.roleName'" class="fa fa-sort"></span>
                                </span>
                            </th>
                            <th class="text-center">Remarks</th>
                            <th class="text-center">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-class-odd="'elter'" ng-class-even="'alter'" fixed-header="" ng-repeat ="user in users |  orderBy:sortType:sortReverse"
                            ng-click="setSelected($index )" ng-class="{selected: $index ==selectedRow}">
                            <td>
                                <input type="checkbox" value="id" class="ng-pristine ng-valid" ng-model="user.select"
                                    ng-change="rowSelect(user);hover = user.select">
                            </td>
                            <td data-test='Admin_ClientUser_UserList_SelectUser' ng-click="getUserProjects(user)">{{user.userName}}</td>
                            <td data-test='Admin_ClientUser_UserList_SelectUser' ng-click="getUserProjects(user)">{{user.empCode}}</td>
                            <td data-test='Admin_ClientUser_UserList_SelectUser' ng-click="getUserProjects(user)">{{user.empDesg}}</td>
                            <td data-test='Admin_ClientUser_UserList_SelectUser' ng-click="getUserProjects(user)">{{user.dispName}}</td>
                            <td data-test='Admin_ClientUser_UserList_SelectUser' ng-click="getUserProjects(user)">{{user.firstName}}</td>
                            <td data-test='Admin_ClientUser_UserList_SelectUser' ng-click="getUserProjects(user)">{{user.lastName}}</td>
                            <td data-test='Admin_ClientUser_UserList_SelectUser' ng-click="getUserProjects(user)">{{user.email}}</td>
                            <td data-test='Admin_ClientUser_UserList_SelectUser' ng-click="getUserProjects(user)">{{user.phone}}</td>
                            <td data-test='Admin_ClientUser_UserList_SelectUser' ng-click="getUserProjects(user)">{{user.mobile}}</td>
                            <td data-test='Admin_ClientUser_UserList_SelectUser' ng-click="getUserProjects(user)">
                                <div fixed-header="" ng-repeat ="userRole in user.userRoles">{{userRole.roleName}}</div>
                            </td>
                            <td class="text-left">
                                <span name="comment" flip="horizontal" ng-click="show(user.remarks)">{{user.remarks}}</span>
                            </td>
                            <td class="text-left">
                                <span name="status" flip="horizontal" ng-click="show(user.status)" ng-if="user.status==1">Active</span>
                                <span name="status" flip="horizontal" ng-click="show(user.status)" ng-if="user.status==2">Inactive</span>
                            </td>
                        </tr>
                    </tbody>
                </table> -->
            </div>
        </div>
        </div>
        <div class="panel-footer">
            <div class="pull-right">
                <input type="button" data-test='Admin_ClientUser_UserList_Create' class="btn btn-primary btn-sm" 
                	ng-click="addUsers('Add')" value="Create" ng-if="account.clientId && account.appCodeTemplate['ADMIN_USRLIST_ADD'] && userReq.status==1" />
            </div>
            <div class="pull-left">
                <input data-test='Admin_ClientUser_Edit' type="button" class="btn btn-primary btn-sm" ng-click="addUsers('Edit')" value="Edit" ng-if="account.appCodeTemplate['ADMIN_USRLIST_ADD'] && userReq.status==1" />
                <input data-test='Admin_ClientUser_UserList_Deactivate' type="button" class="btn btn-secondary btn-sm" ng-click="deleteUser()" value="Deactivate" ng-if="account.appCodeTemplate['ADMIN_USRLIST_DELETE'] && userReq.status==1" />
                <input type="button" class="btn btn-primary btn-sm" ng-click="activateUsers()" value="Activate" ng-if="account.appCodeTemplate['ADMIN_USRLIST_DELETE'] && userReq.status==2" />
            </div>
            <!-- -->
        </div>
    </div>
    <div class="panel panel-default twinBlock footer-parent">
        <div class="panel-body">
            <div class="nav-tabs-custom">
                <ul class="nav nav-tabs responsive" id="myTab">
                    <li class="active"><a data-toggle="tab" ng-click="tabActivate('home');">Project List</a></li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane active" ng-if="tabopen=='home'">
                        <div class=" no-border">
                            <div class="tabTable_1_Res_height">
                              <div id="grid" ui-grid="gridOptions3" class="singleTableResHeight_3" style="height:230px"
                          ng-if="stylesSvc.finishedStyling" ui-grid-exporter ui-grid-move-columns ui-grid-auto-resize
                                     ui-grid-resize-columns class="grid" ></div>
                            
                                <!-- <table class="table table-striped table-hover table-bordered tabTable_1_height" >
                                    <thead>
                                        <tr>
                                            <th>EPS Name </th>
                                            <th>Project Name</th>
                                            <th>Assign Projects Access</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr fixed-header="" ng-repeat ="proj in userProjects">
                                            <td>{{ proj.parentName}}</td>
                                            <td>{{ proj.projCode }}</td>
                                            <td><input data-test='Admin_ClientUser_UserList_Assign' type="checkbox" align="center" value="id" class="ng-pristine ng-valid"
                                                    ng-change="changeField(proj)" ng-model="proj.usrProj"></td>



                                            <td><input type="checkbox" value="id"
                                      class="ng-pristine ng-valid" ng-model="user.select"
                                      ng-click="rowSelect(user);hover = user.select"></td>
                                        </tr>
                                    </tbody>
                                </table> -->
                            </div>
                            <div class="panel-footer">
                                <div class="pull-right right-padding">
                                    <input data-test='Admin_ClientUser_UserList_AssignOk' type="button" ng-click="assignProjects(userProjects)" ng-disabled="flag1"
                                        class="btn btn-primary btn-sm" value="Assign" ng-if="account.appCodeTemplate['ADMIN_USRLIST_ASSIGN']" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            //for table row
            $('.table tr:nth-child(odd)').addClass('alter');
            $('.table tr:nth-child(even)').addClass('elter');

        });
    </script>
    </div>
    </div>
</section>
<!-- /Main content -->