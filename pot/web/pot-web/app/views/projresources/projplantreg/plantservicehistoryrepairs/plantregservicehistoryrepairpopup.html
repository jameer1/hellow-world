<div id="tab-pannel" class="panel-group">
	<form name="plantServiceRepairForm" validate>
		<div class="panel panel-default" modal-movable>
			<div class="panel-heading">
				<h4 class="panel-title">Record of Repairs</h4>
			</div>
			<div class="panel-body">
				<div class="popUpTableResHeight overflow-auto">
					<table class="table table-striped table-hover table-bordered popUpTableHeight">
						<thead>
							<tr>
								<th class="text-center">Select</th>
								<th class="text-center">Date
									<span class="procurment-pot-errors">*</span>
								</th>
								<th class="text-center">Odo Meter Reading
									<span class="procurment-pot-errors">*</span>
								</th>
								<th class="text-center">Repair Category
									<span class="procurment-pot-errors">*</span>
								</th>
								<th class="text-center">Item of Repair</th>
								<th class="text-center">Major Spare Part Items Replaced<span
										style="color: red;">*</span></th>
								<th class="text-center">Unit of Measure</th>
								<th class="text-center">Quantity
									<span class="procurment-pot-errors">*</span>
								</th>
								<th class="text-center">Project Docket</th>
								<th class="text-center">Notes</th>
							</tr>
						</thead>
						<tbody>
							<tr fixed-header="" ng-repeat="serviceHistoryRepair in addServiceHistoryRepairData">

								<td>{{ action }}<input type="checkbox" ng-disabled="action !='Add'"
										ng-model="serviceHistoryRepair.selected"
										ng-change="serviceHistoryRepairPopUpRowSelect(serviceHistoryRepair)">
								</td>

								<td class="input-width2">
									<pot-currentdate-picker class="form-control"
										data-test='PlantandEquipment_ServiceHistoryRepairs_RecordsofRepair_create_date'
										ng-model="serviceHistoryRepair.date" dir-index="$index" date-name="startDate"
										placeholder="dd-mm-yyyy" ng-required="true" custom-read-only />
								</td>

								<td class="input-width">
									<ng-form name="plantRepairForm">
										<input type="text" step="0.01" name="OdoMeterRdng2" class="form-control"
											data-test='PlantandEquipment_ServiceHistoryRepairs_RecordsofRepair_create_odometerreading'
											ng-model="serviceHistoryRepair.odoMeter" placeholder="Odo Meter Reading"
											ng-required="true" pattern="[0-9]+(\.[0-9]{1,2})?" class="text-right" valid-number> <span
											class="procurment-pot-errors"
											ng-show="plantRepairForm.OdoMeterRdng2.$error.pattern">
											Only Two Decimal Places Allowed</span>
								</td>

								<td class="input-width3"><input type="text" class="form-control"
										data-test='PlantandEquipment_ServiceHistoryRepairs_RecordsofRepair_create_ItemofRepair'
										name="RepairCate" class="form-control"
										ng-model="serviceHistoryRepair.serviceParentName" placeholder="Repair Category"
										ng-click="getServiceDetails(serviceHistoryRepair)" custom-read-only
										ng-required="true"></td>

								<td class="input-width3"><input type="text" class="form-control"
										data-test='PlantandEquipment_ServiceHistoryRepairs_RecordsofRepair_create_MajorSparePartItemsReplaced'
										name="ItemOfRepair" ng-model="serviceHistoryRepair.serviceName"
										placeholder="Item of Repair" readonly></td>

								<td class="input-width"><input type="text" name="MajorSpare" class="form-control"
										ng-click="getMaterialDetails(serviceHistoryRepair)"
										ng-model="serviceHistoryRepair.materialName" placeholder="Major Spare part" custom-read-only
										ng-required="true">
								</td>

								<td class="input-width"><input type="text" name="UnitOfMeasure" class="form-control"
										ng-model="serviceHistoryRepair.materialUnit" placeholder="Unit of Measure"
										readonly></td>

								<td class="input-width">
								<ng-form name="plantRepairForm1">
								<input valid-number type="text" name="Qty" class="form-control" 
										data-test='PlantandEquipment_ServiceHistoryRepairs_RecordsofRepair_create_quantity'
										ng-model="serviceHistoryRepair.quantity" placeholder="Quantity" pattern="[1-9]+.*"  
										ng-required="true" >	
										<span class="procurment-pot-errors" ng-show="plantRepairForm1.Qty.$error.pattern">
											Zero is not applicable</span>	</ng-form>								
								</td>

								<td class="input-width"><input type="text" class="form-control"
										data-test='PlantandEquipment_ServiceHistoryRepairs_RecordsofRepair_create_projectdocket'
										ng-click="getPlantMaterialProjDocketDetails(serviceHistoryRepair)"
										name="Project Docket" ng-model="serviceHistoryRepair.projDocket"
										placeholder="Project Docket" readonly></td>

								<td class="input-width"><input type="text" name="Notes" class="form-control"
										data-test='PlantandEquipment_ServiceHistoryRepairs_RecordsofRepair_create_notes'
										ng-model="serviceHistoryRepair.comments" placeholder="Notes">
								</td>
						</tbody>
					</table>
				</div>
			</div>
			<div class="panel-footer">
				<div class="pull-right">
					<input type="submit" class="btn btn-primary btn-sm"
						data-test='PlantandEquipment_ServiceHistoryRepairs_RecordsofRepair_create_save'
						ng-click="plantServiceRepairForm.$valid && saveRepairDetails()" value="Save">
						
				</div>
				<div class="pull-left">
					<input type="submit" class="btn btn-brown btn-sm"
						ng-click="plantServiceRepairForm.$valid && addRows()" value="Add" ng-show="action =='Add'">
					<input type="button" class="btn btn-brown btn-sm" ng-click="deleteRows()" value="Delete"
						ng-show="action =='Add'">
				</div>
			</div>
		</div>
		<div class="ngdialog-close"></div>
	</form>
</div>
