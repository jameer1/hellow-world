<div id="tab-pannel" class="panel-group">
	<form name="medicalrecordsForm" validate>
		<div class="panel panel-default" modal-movable>
			<div class="panel-heading">
				<h4 class="panel-title">Employee Medical Details</h4>
			</div>
			<div class=" panel-body" style="overflow: auto;">
					<div class="popUpTableResHeight">
				<table class="table table-striped table-responsive table-bordered popUpTableHeight">
					<thead>
						<tr>
							<th ng-show="actionType=='Add'">Select</th>
							<th>Date <span style="color: red;">*</span></th>
							<th>Project Posting#</th>
							<th>EPS Name</th>
							<th>Project Name</th>
							<th>Record#</th>
							<th>Item / Record <span
								style="color: red;">*</span></th>
							<th>Particulars<span
								style="color: red;">*</span></th>
							<th>Notes</th>
							<th>Upload Documents<span
								style="color: red;">*</span></th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat ="medicalrecord in empMedicalHistoryData">
							<td ng-show="actionType=='Add'"><input type="checkbox" data-test='Resources_Employee_MedicalHistory_Create_addselectbox'
								value="medicalrecord.id" ng-model="medicalrecord.selected"
								ng-change=medicalHistoryPopUpRowSelect(medicalrecord)></td>
							<td class="input-width0"><potdate-picker ng-required="true" class="form-control"
									ng-model="medicalrecord.fromDate" dir-index="$index" 
									data-test='Resources_Employee_MedicalHistory_Create_date'
									date-name="date" placeholder="dd-mm-yyyy" custom-read-only/></td>
							<td class="input-width1"><input type="number" class="form-control" data-test='Resources_Employee_MedicalHistory_Edit_ProjectPosting'
								name="Project Posting" ng-model="projEmpRegisterTO.deploymentId"
								placeholder="Project Posting" readonly="readonly"></td>
							<td class="input-width1"><input type="text" name="epsName" data-test='Resources_Employee_MedicalHistory_Edit_EPSName'
								ng-model="projEmpRegisterTO.parentName" class="form-control"
								placeholder="epsName" ng-disabled="true" readonly="readonly"></td>
							<td class="input-width1"><input type="text" name="proj name" data-test='Resources_Employee_MedicalHistory_Edit_ProjectName'
								ng-model="projEmpRegisterTO.name" class="form-control"
								placeholder="record" ng-disabled="true" readonly="readonly"></td>
							<td class="input-width1"><input type="text" name="record"
								ng-model="medicalrecord.recordId" placeholder="record"
								readonly="readonly" class="form-control"></td>
							<td class="input-width1">
								<ng-form name="itemName">
									<input type="text" class="form-control"
								name="itemRecord" ng-model="medicalrecord.item" 
								data-test='Resources_Employee_MedicalHistory_Create_itemorRecord'
								placeholder="Item / Record" ng-required="true">
								<span 	class="procurment-pot-errors" 						
								ng-show="itemName.itemRecord.$error.required && itemName.itemRecord.$touched">
								This field is mandatory
						</span>
						</ng-form>
							</td>
							<td class="input-width1">
									<ng-form name="nameForm">
								<input type="text" class="form-control" 
								name="particulars" ng-model="medicalrecord.particular" 
								data-test='Resources_Employee_MedicalHistory_Create_Particulars'
								placeholder="particulars" ng-required="true">
								<span 	class="procurment-pot-errors" 						
								ng-show="nameForm.particulars.$error.required && nameForm.particulars.$touched">
								This field is mandatory
								</span>
								</ng-form>
							</td>
							<td><input type="text" name="notes" class="form-control" data-test='Resources_Employee_MedicalHistory_Create_Notes'
									ng-model="medicalrecord.comments" placeholder="notes"
									 /></td>
							<!-- <td><input type="file" name="documents" 
								data-test='Resources_Employee_MedicalHistory_Create_UploadDocuments'
								ng-model="medicalrecord.documents" ngf-select="checkFile($file, medicalrecord)" placeholder="documents" required>
							</td> -->
							<td><input type="file" name="documents" 
								data-test='Resources_Employee_MedicalHistory_Create_UploadDocuments'
								ngf-select="fileUpload($file,medicalrecord,$index)" placeholder="documents" required>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
			<div class="panel-footer">
				<div class="pull-right">
					<input type="submit" class="btn btn-primary btn-sm" data-test='Resources_Employee_MedicalHistory_Save'
						ng-click="medicalrecordsForm.$valid && saveEmpMedicalHistory()"
						value="Save">
						
				</div>
				<div class="pull-left">
					<input data-test='Resources_Employee_MedicalHistory_Create_Add' type="submit" class="btn btn-primary btn-sm"
						ng-click="medicalrecordsForm.$valid && addRows()" value="Add Rows"
						ng-show="actionType =='Add'" validate> 
						<input type="button" data-test='Resources_Employee_MedicalHistory_Create_Delete'
						class="btn btn-default btn-sm" ng-click="deleteRows()"
						value="Delete Rows" ng-show="actionType =='Add'">
				</div>
			</div>
		</div>
		<div class="ngdialog-close"></div>
	</form>
</div>


