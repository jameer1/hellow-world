<div id="tab-pannel" class="panel-group">
	<form name="providentFundForm" validate>
		<div class="panel panel-default" modal-movable>
			<div class="panel-heading">
				<h4 class="panel-title">Employee-Super Annuation/Provident Fund</h4>
			</div>
			<div class="panel-body5-1" style="margin-left: 30px;">
				<div class="row input-height">
					<div class="col-sm-2 col-xs-2 col-md-2 ">
						<span>Employee ID</span> <input type="text"
							ng-model="selectedEmployeeData.empCode" name="code"
							placeholder="Employee ID" tabindex=-1 readonly="readonly">
					</div>
					<div class="col-sm-2 col-xs-2 col-md-2 ">
						<span>First Name</span> <input type="text" tabindex=-1
							ng-model="selectedEmployeeData.firstName" name="firstName"
							placeholder="First Name" readonly="readonly" />
					</div>
					<div class="col-sm-2 col-xs-2 col-md-2">
						<span>LastName</span> <br> <input type="text" tabindex=-1
							ng-model="selectedEmployeeData.lastName" name="lastName"
							placeholder="Last Name" readonly="readonly" />
					</div>
					<div class="col-sm-2 col-xs-2 col-md-2 ">
						<span>Designation</span><input type="text" tabindex=-1
							ng-model="selectedEmployeeData.empClassName"
							name="destination" placeholder="Designation" readonly="readonly" />
					</div>
					<div class="col-sm-2 col-xs-2 col-md-2 ">
						<span>Tax File Number</span><input type="text" tabindex=-1
							ng-model="empProvidentFundTO.projEmpRegisterTO.taxFileNum"
							name="payRate" placeholder="Tax File Number" readonly="readonly" />
					</div>
					<div class="col-sm-2 col-xs-2 col-md-2 ">
						<span>Credit Cycle</span> <input type="text" tabindex=-1
							ng-model="empProvidentFundTO.payCycle" name="payCycle"
							placeholder="Pay cycle" readonly="readonly" />
					</div>
				</div>
				<div class="row input-height">

					<div class="col-sm-2 col-xs-2 col-md-2 ">
						<span>Parent Company</span> <input type="text" tabindex=-1
							ng-model="selectedEmployeeData.cmpName"
							name="parentCompany" placeholder="Parent Company"
							readonly="readonly" />
					</div>
					<div class=" col-sm-2 col-xs-2 col-md-2 ">
						<span>Current Project</span> <input type="text" tabindex=-1
							ng-model="empProvidentFundTO.projEmpRegisterTO.parentName"
							name="currentProject" placeholder="Current Project"
							readonly="readonly" />
					</div>
					<div class="  col-sm-2 col-xs-2 col-md-2 ">
						<span>Posting Order #</span> <input type="text" tabindex=-1
							ng-model="empProvidentFundTO.projEmpRegisterTO.deploymentId"
							name="postingOrder" placeholder="Posting Order"
							readonly="readonly" />
					</div>
					<div class="  col-sm-2 col-xs-2 col-md-2 ">
						<span>Period From </span><span
							style="color: red;">*</span>
						<potdate-picker dir-index="index" date-name="effectivefrom"
							tabindex=-1 ng-model="empProvidentFundTO.fromDate" min-date="maxdate"
							placeholder="Period From" ng-require="true">
					</div>
					<div class="  col-sm-2 col-xs-2 col-md-2 ">
						<span>Period To </span><span
							style="color: red;">*</span>
						<potdate-picker dir-index="index" date-name="effectiveto"
							tabindex=-1 ng-model="empProvidentFundTO.toDate" min-date="empProvidentFundTO.fromDate"
							placeholder="Period To" ng-require="true">
					</div>
					<div class="  col-sm-2 col-xs-2 col-md-2 ">
						<span>Basic Pay</span> <input type="text" tabindex=-1
							ng-model="empProvidentFundTO.basicPay" name="basicPay"
							placeholder="Basic Pay" readonly="readonly" />
					</div>
				</div>
			</div>
			<div class="panel-heading">
				<h4 class="panel-title">Employee Superfund Contribution & Tax
					details</h4>
			</div>
			<div class="panel-body5">
				<table id="input-width" class="table table-striped table-bordered">
					<thead>
						<tr>
							<th>Item <span style="color: red;">
									*</span></th>
							<th>Contribution Type <span
								style="color: red;"> *</span></th>
							<th>% on BP <span
								style="color: red;"> *</span></th>
							<th>Fixed Amount <span
								style="color: red;"> *</span></th>
							<th>Comments</th>
						</tr>

						<tr
							fixed-header="" ng-repeat ="empProvidentContributionTO in empProvidentFundTO.empProvidentFundContributionTOs">

							<td><input type="text"
								ng-model="providentFundCodeMap[empProvidentContributionTO.financeFundId].code"
								placeholder="Item Code" readonly="readonly"
								style="width: 115px !important"></td>

							<td><input type="text"
								ng-model="providentFundCodeMap[empProvidentContributionTO.financeFundId].name"
								placeholder="Item Name" readonly="readonly"
								style="width: 115px !important"></td>


							<td><input type="text" name="basicPay"
								ng-change="validateBasiPayPercentage(1,empProvidentContributionTO);calculateTotal(empProvidentFundTO.empProvidentFundContributionTOs)"
								ng-model="empProvidentContributionTO.percentage"
								placeholder="% on BP"></td>

							<td><input type="text" name="fixedAmount"
								ng-change="validateBasiPayPercentage(2,empProvidentContributionTO);calculateTotal(empProvidentFundTO.empProvidentFundContributionTOs)"
								ng-model="empProvidentContributionTO.fixedAmount"
								placeholder="Fixed Amount"></td>

							<td><input type="text"
								ng-model="empProvidentContributionTO.comments"
								placeholder="Comments " style="width: 115px !important"></td>

						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th>Total</th>
							<th></th>
							<th colspan="2" class="text-center">{{calculateTotal(empProvidentFundTO.empProvidentFundContributionTOs)}}</th>
						</tr>
					</tfoot>
				</table>
			</div>
			<div class="panel-heading">
				<h4 class="panel-title">Tax On Superfund Details</h4>
			</div>
			<div class="panel-body2">
				<table id="input-width" class="table table-striped table-bordered">
					<thead>
						<tr>
							<th>% on Superfund Amount <span
								style="color: red;"> *</span></th>
							<th>Fixed Amount <span
								style="color: red;"> *</span></th>
							<th>Comments</th>
						</tr>
						<tr
							fixed-header="" ng-repeat ="empProvidentTaxTO in empProvidentFundTO.empProvidentFundTaxTOs">
							<td><ng-form name="proviForm"> <input type="text"
									name="percentage"
									ng-change="validateTaxBasiPayPercentage(1,empProvidentTaxTO);"
									maxlength="4" ng-model="empProvidentTaxTO.percentage"
									pattern="\d{0,10}(.\d{0,2})?" placeholder="% on BP"> <span
									ng-show="proviForm.percentage.$error.pattern"> Digits
									with two decimals should be allowed</span></td>

							<td><ng-form name="proviForm1">
								<input type="text" name="fixedAmount"
									ng-change="validateTaxBasiPayPercentage(2,empProvidentTaxTO);checkDecimal(empProvidentTaxTO.fixedAmount);"
									ng-model="empProvidentTaxTO.fixedAmount"
									pattern="\d{0,10}(.\d{0,2})?" maxlength="4"
									placeholder="Fixed Amount"> <span
									ng-show="proviForm2.fixedAmount.$error.pattern"> Digits
									with two decimals should be allowed</span></td>

							<td><input type="text" ng-model="empProvidentTaxTO.comments"
								placeholder="Comments " style="width: 115px !important"></td>

						</tr>
					</tbody>
				</table>
			</div>
			<div class="panel-heading">
				<h4 class="panel-title">Super Annuation/ Provident Fund Details</h4>
			</div>
			<div class="panel-body5">

				<div>

					<table id="input-width" class="table table-hover table-bordered tabTable_1_height">
						<thead>
							<tr>
								<th>Select</th>
								<th>Item <span style="color: red;">
										*</span></th>
								<th>Details <span
									style="color: red;"> *</span></th>
								<th>Comments</th>
							</tr>
							<thead>
							<tbody>
							<tr fixed-header="" ng-repeat ="fundDetailTO in empProvidentFundTO.empProvidentFundDetailTOs">
								<td><input type="checkbox" ng-model="fundDetailTO.select"
									ng-change="rowSelect(fundDetailTO)" name="selectItem"></td>
								<td><ng-form name="itemForm">
									<input type="text" ng-model="fundDetailTO.desc" name="item"
										placeholder="Code" ng-required="true"
										style="width: 115px !important"> <span
										ng-show="itemForm.selectItem.$dirty && itemForm.selectItem.$error.required">Item
										is mandatory</span></td>

								<td><input type="text" name="details" ng-required="true"
									ng-model="fundDetailTO.details" placeholder="Details"
									style="width: 115px !important"></td>

								<td><input type="text" ng-model="fundDetailTO.comments"
									placeholder="Comments " style="width: 115px !important"></td>

							</tr>
						</tbody>
					</table>

				</div>
			</div>
			<div class="panel-footer"
				ng-if="empProvidentFundTO.id==null || empProvidentFundTO.latest">
				<div class="pull-left">
					<input type="button" class="btn btn-brown btn-sm"
						ng-click="providentFundForm.$valid && addFundDetails()"
						value="Add" validate> <input type="button"
						class="btn btn-brown btn-sm" ng-click="deleteFundDetails()"
						value="Delete">
				</div>
				<div class="pull-right">
					<input type="submit" class="btn btn-brown btn-sm"
						ng-click="providentFundForm.$valid && saveEmpProvidentFund()"
						value="Save">
				</div>
			</div>
		</div>
		<div class="ngdialog-close"></div>
	</form>
</div>

